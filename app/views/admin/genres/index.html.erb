<header>
	<%= render 'admin/header' %>
</header><!-- /header -->

<div class="container">
	<div class="row">
		<div class="col-xs-10 col-xs-offset-1">

			<h2>ジャンル追加・一覧画面</h2>

			<!-- error-message -->
			<% if @genre.errors.any? %>
				<div class="error_explanation genre-error">
					<h2><%= @genre.errors.count %> errors prohibited this obj from being saved:</h2>
					<ul>
						<% @genre.errors.full_messages.each do |message| %>
							<li><%= message %></li>
						<% end %>
					</ul>
				</div>
			<% end %>

			<!-- new genre form -->
			<div class="new-genre-form">
				<%= form_for [:admin, @genre] do |f| %>
					<%= f.label :genre, "ジャンル" %>
					<%= f.text_field :genre %>
					<%= f.radio_button :invalid_status, "有効", checked: true %>
					<%= f.label :genre, "有効" %>
					<%= f.radio_button :invalid_status, "無効" %>
					<%= f.label :name, "無効" %>
					<%= f.submit '追加', class:"btn btn-primary" %>
				<% end %>
			</div>

			<!-- genre index -->
			<table class="table genre-index">
				<thead>
					<tr>
						<th>ジャンル</th>
						<th>状態</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<% @genres.each do |genre| %>
					<tr>
						<td><%= genre.genre %></td>

						<% if genre.invalid_status == 0 %>
						<td>有効</td>
						<% else %>
						<td>無効</td>
						<% end %>
						

						<td><%= link_to '編集', edit_admin_genre_path(genre.id), class:"btn btn-succes" %></td>
					</tr>
					<% end %>
				</tbody>
			</table>
		</div>
	</div>
</div>